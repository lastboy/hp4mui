define([
    'jquery',
    'underscore',
    'backbone',
    'text!templates/page1.html',
    'text!templates/controls/petek.html',
    'views/base',
    'collections/apps'

], function ($, _, Backbone, appsTemplate, petekTemplate, BaseView, AppsCollection) {
    'use strict';

    var Page1View = BaseView.extend({

        el: $('#workspace'),

        template: _.template(appsTemplate),

        // The DOM events specific to an item.
        events: {

        },

        enum: {
            DEFAULT_ICON: "data:image/png;base64,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",

            ADD_APP: {
                "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHQAAAB0CAYAAABUmhYnAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDUvMjcvMTS1hFZGAAAAC3RFWHRzcGVjdGVySUQAMqlhE68AAAFrSURBVHic7d3RCcJAFADBRGzADqzlCk9LagWxAf1QYsR15jMQeLAcBA5e5nVdJzoO3x6AbQkaI2iMoDGCxggaI2iMoDGCxggaI2iMoDGCxhy/PcAnLcvy6CrpNMa47j7MTpzQGEFjBI0RNEbQGEFjBI0RNEbQGEFjBI0RNEbQGEFjBI0RNEbQGEFjBI0RNEbQGEFjBI0RNEbQGEFjBI0RNEbQGEFjBI0RNEbQGEFjBI0RNEbQGEFjBI0RNEbQGEFj5ld/xPNk3RobG2PM77znhMYIGiNojKAx7+zLPW0+xedcHjw7T9N023mO3bz8lftLLEDm5wkaI2iMoDGCxggaI2iMoDGCxggaI2iMoDGCxggaI2iMoDGCxggaI2iMoDGCxggaI2iMoDGCxggaI2iMoDGCxggaI2iMoDGCxggaI2iMoDGCxggaI2iMoDGCxqQ3if0jJzRG0BhBYwSNETRG0BhBYwSNETRG0Jg75gkc7kc0T5QAAAAASUVORK5CYII=",
                title: "<div class='new-app'>Add New App</div>",
                description: "",
                version: ""
            }
        },

        super: function (methodName, args) {
            BaseView.prototype[methodName].apply(this, args);
        },

        initialize: function (options) {
            this.model = new AppsCollection();
            this.super("initialize", [options]);

        },

        render: function (options) {
            var data,
                me = this;

            this.super("render", [options]);

            // Fetch Apps collection
            data = this.model.fetch({
                success: function(data) {

                    var  petekCompile = _.template(petekTemplate),
                        out=petekCompile(me.enum.ADD_APP),
                        appsData = (data ? data.toJSON() : undefined);

                    if (appsData) {
                        appsData.forEach(function(appData) {

                                out += petekCompile({
                                    "icon": (appData.icon || me.enum.DEFAULT_ICON),
                                    title: (appData.name || "NA"),
                                    description: "Description about the application",
                                    version: "Version 2.03"
                                });

                        });

                        $(me.el).find("#page #content").html(out);
                    }
                },

                error: function (err) {
                    console.error(err);

                }
            }).complete(function() {

            });

            return this;
        },

        transitionIn: function (writecallback, callback) {

            this.super("transitionIn", [writecallback, callback]);

        },

        transitionOut: function (writecallback, callback) {

            this.super("transitionOut", [writecallback, callback]);

        }

    });

    return Page1View;
});
